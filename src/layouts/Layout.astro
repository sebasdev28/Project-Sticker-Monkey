---
import Navbar from "../components/Navbar.astro";
import "../styles/global.css";
import Footer from "../components/Footer.astro";
interface Props {
  title: string;
  description: string;
}
const { title, description } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
  </head>

  <body class="relative text-black dark:text-white">
    <div
      class="absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"
    >
    </div>
    <Navbar />
    <slot />
    <Footer />
    <style is:global>
      /* ========= THEME: Urbana y Eléctrica ========= */
      :root {
        --urban-black: #0a0a0a;
        --urban-white: #f5f5f5;
        --electric: #00bfff;
        --electric-soft: rgba(0, 191, 255, 0.4);
        --nav-h: 64px;
      }
      [id] {
        scroll-margin-top: calc(var(--nav-h) + 12px);
      }
      /* Header base (sigue siendo transparente) */
      .site-nav {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 50;
        background: transparent;
      }

      /* Cápsula interna que recibe el glass al scrollear/abrir menú */
      .nav-shell {
        border-radius: 14px;
        transition:
          background 0.25s ease,
          border-color 0.25s ease,
          box-shadow 0.25s ease,
          backdrop-filter 0.25s ease;
        padding: 8px 14px;
      }

      /* Solo aquí ponemos el efecto glass */
      .nav-shell.glass {
        background: rgba(17, 24, 39, 0.45);
        backdrop-filter: saturate(160%) blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.25);
      }
      /* ===== Contact CTA ===== */
      .contact-cta {
        padding: 48px 0 64px;
        background: transparent;
      }

      .contact-cta__card {
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        align-items: center;
        gap: 40px;
        padding: 32px;
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: linear-gradient(
          135deg,
          rgba(15, 35, 45, 0.85),
          rgba(10, 10, 15, 0.9)
        );
        box-shadow: 0 18px 60px rgba(0, 0, 0, 0.35);
      }

      .contact-cta__title {
        margin: 0 0 10px;
        font-weight: 900;
        font-size: clamp(1.6rem, 3.2vw, 2.2rem);
        color: #eafaff;
        letter-spacing: 0.3px;
      }

      .contact-cta__subtitle {
        margin: 0 0 22px;
        color: #cfe3ef;
        line-height: 1.6;
        max-width: 52ch;
      }

      /* Botón */
      .cta-wa {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 14px 20px;
        border-radius: 12px;
        background: linear-gradient(135deg, #25d366, #39ff8d);
        color: #072d12;
        font-weight: 800;
        font-size: 1rem;
        text-decoration: none;
        border: 1px solid rgba(255, 255, 255, 0.4);
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.3);
        transition:
          transform 0.15s ease,
          box-shadow 0.15s ease;
      }
      .cta-wa:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.35);
      }
      .wa-icon {
        flex-shrink: 0;
      }

      /* Imagen */
      .contact-cta__right img {
        width: 100%;
        max-width: 360px;
        border-radius: 14px;

        object-fit: cover;
      }

      /* Responsive */
      @media (max-width: 960px) {
        .contact-cta__card {
          grid-template-columns: 1fr;
          text-align: center;
          gap: 24px;
        }
        .contact-cta__right img {
          margin: 0 auto;
        }
        .cta-wa {
          justify-content: center;
        }
      }

      /* Fallback sin backdrop-filter */
      @supports not (
        (-webkit-backdrop-filter: none) or (backdrop-filter: none)
      ) {
        .nav-shell.glass {
          background: rgba(17, 24, 39, 0.85);
        }
      }

      .site-nav {
        position: fixed;
        inset: 0 0 auto 0;
        z-index: 50;
        background: transparent;
        transition:
          background 0.25s ease,
          border-color 0.25s ease,
          box-shadow 0.25s ease,
          backdrop-filter 0.25s ease;
      }
      /* ===== Footer ===== */
      .site-footer {
        border-top: 1px solid rgba(255, 255, 255, 0.06);
        background: linear-gradient(
          180deg,
          rgba(8, 10, 15, 0.6),
          rgba(8, 10, 15, 0.9)
        );
        padding: 28px 0 28px; /* espacio inferior para el FAB */
        color: #cfe0ee;
      }
      .foot {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr;
        gap: 22px;
        align-items: start;
      }
      .foot__logo {
        width: 80px;
        height: 80px;
        border-radius: 12px;
        margin-right: 10px;
        
        place-items: center;
        float: left;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .foot__title {
        margin: 0 0 4px;
        font-size: 1.05rem;
        color: #fff;
      }
      .foot__text {
        margin: 0 0 10px;
        color: #a9b9ca;
      }
      .foot__subtitle {
        margin: 0 0 8px;
        font-size: 1rem;
        color: #fff;
      }
      .foot__list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 6px;
      }
      .foot__link {
        color: #d7ecff;
      }
      .foot__link:hover {
        color: var(--electric);
      }
      .copyright {
        margin: 16px 0 0;
        font-size: 0.9rem;
        color: #8fa1b3;
        clear: both;
      }

      /* ===== FAB WhatsApp ===== */
      .wa-fab {
        position: fixed;
        right: 18px;
        bottom: 18px;
        z-index: 60;
      }
      .wa-fab a {
        display: grid;
        place-items: center;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #25d366, #39ff8d);
        border: 1px solid rgba(255, 255, 255, 0.6);
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.35);
        transition:
          transform 0.15s ease,
          box-shadow 0.15s ease;
        color: #072d12;
      }
      .wa-fab a:hover {
        transform: translateY(-2px) scale(1.03);
      }
      .wa-fab a:active {
        transform: translateY(0) scale(0.98);
      }

      /* efecto pulso suave */
      @media (prefers-reduced-motion: no-preference) {
        .wa-fab a {
          animation: pulse 2.2s ease-in-out infinite;
        }
        @keyframes pulse {
          0%,
          100% {
            box-shadow:
              0 12px 26px rgba(0, 0, 0, 0.35),
              0 0 0 0 rgba(57, 255, 141, 0.35);
          }
          50% {
            box-shadow:
              0 12px 26px rgba(0, 0, 0, 0.35),
              0 0 0 12px rgba(57, 255, 141, 0);
          }
        }
      }

      /* sr-only (si no la tienes aún) */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      /* Responsive */
      @media (max-width: 960px) {
        .foot {
          grid-template-columns: 1fr;
        }
        .site-footer {
          padding-bottom: 96px;
        }
      }

      .site-nav.is-scrolled {
        background: rgba(17, 24, 39, 0.45); /* gris/negro translúcido */
        backdrop-filter: saturate(160%) blur(10px); /* glass */
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.25);
      }

      /* Fallback si el navegador no soporta backdrop-filter */
      @supports not (
        (-webkit-backdrop-filter: none) or (backdrop-filter: none)
      ) {
        .site-nav.is-scrolled {
          background: rgba(17, 24, 39, 0.85);
        }
      }
      html {
        scroll-behavior: smooth;
      }

      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        overscroll-behavior: none;
      }

      .theme-urban {
        color: var(--urban-white);
      }

      /* HERO NEON */
      /* HERO NEON (transparente, toma el fondo del body o del padre) */
      .hero--neon {
        padding: 96px 0 48px;
        background: transparent; /* <- SIN RAYAS, SIN COLOR */
        border-bottom: none; /* <- sin línea inferior */
      }

      /* Si algún día quieres volver a usar el patrón con rayas,
   agrega la clase extra 'is-striped' al <section> */
      .hero--neon.is-striped {
        background: linear-gradient(
            135deg,
            rgba(255, 255, 255, 0.04),
            rgba(255, 255, 255, 0) 30%
          ),
          repeating-linear-gradient(
            -25deg,
            rgba(255, 255, 255, 0.06) 0 2px,
            rgba(255, 255, 255, 0) 2px 10px
          ),
          var(--urban-black);
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }

      .hero--neon__grid {
        display: grid;
        gap: 28px;
        grid-template-columns: 1.05fr 0.95fr;
        grid-template-columns: 1.1fr 0.9fr; /* 55/45 aprox */
        align-items: center; /* centra vertical */
        min-height: min(72vh, 820px); /* altura mínima estética */
      }
      .hero--neon__left {
        padding: 6px 0;
      }
      .hero--neon__title {
        font-size: clamp(2.1rem, 4.4vw, 3.4rem);
        line-height: 1.1;
        margin: 0.4rem 0 0.6rem;
        font-weight: 900;
        letter-spacing: 0.6px;
        color: #dff5ff;
        text-transform: uppercase;
        text-shadow: 0 0 18px var(--electric-soft);
        letter-spacing: 0.2px; /* antes .6px */
        text-shadow: 0 0 10px var(--electric-soft); /* menos glow */
      }
      .hero--neon__subtitle {
        color: #cfe6f5;
        margin-bottom: 14px;
        max-width: 60ch;
        line-height: 1.7; /* + legible */
      }

      /* CTAs */
      .btn--electric {
        background: var(--electric);
        color: #031f2b;
        font-weight: 800;

        padding: 0.9rem 1.2rem;
        border: 0;
        box-shadow:
          0 0 14px var(--electric-soft),
          0 4px 0 #0092c4; /* menos “gel” */
        border-radius: 10px;
      }
      .btn--electric:hover {
        transform: translateY(-2px);
      }
      .btn--ghost {
        border: 1px solid rgba(255, 255, 255, 0.25);
        color: #e8f7ff;
        background: transparent;
        border-radius: 8px;
        padding: 0.9rem 1.2rem;
        margin-left: 10px;
      }
      .hero--neon__ctas {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 14px 0 10px;
      }

      /* Bullets */
      .hero--neon__bullets {
        list-style: none;
        padding-left: 0;
        margin: 12px 0 0;
        display: flex;
        flex-wrap: wrap;
        gap: 12px 18px;
        color: #cfe6f5;
      }
      .hero--neon__bullets li {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .hero--neon__bullets b {
        color: #fff;
        margin-right: 4px;
      }
      .ni {
        width: 28px;
        height: 28px;
        display: grid;
        place-items: center;
        border-radius: 50%;
        background: rgba(0, 191, 255, 0.15);
        color: var(--electric);
        border: 1px solid rgba(0, 191, 255, 0.4);
        box-shadow:
          0 0 14px var(--electric-soft),
          inset 0 0 8px var(--electric-soft);
        font-size: 16px;
      }

      .hero-media {
        max-width: 600px;
        aspect-ratio: 16/11;
      }
      @media (min-width: 1280px) {
        .hero-media {
          transform: translateX(10px) scale(1.06);
        }
      }

      /* Collage + Glow */
      .hero--neon__right {
        display: grid;
        place-items: center;
      }
      .panel {
        position: relative;
        width: min(560px, 92%);
        aspect-ratio: 16/11;
        background: linear-gradient(145deg, #141414, #1f1f1f);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 14px;
        box-shadow: 0 26px 60px rgba(0, 0, 0, 0.45);
        overflow: hidden;
        padding: 12px;
      }
      .neon {
        position: absolute;
        display: block;
        max-width: 48%;
        filter: drop-shadow(0 0 10px var(--electric-soft))
          drop-shadow(0 0 24px var(--electric-soft));
      }
      .neon--pad {
        left: 6%;
        top: 14%;
        transform: rotate(-8deg);
      }
      .neon--skull {
        right: 10%;
        top: 10%;
        max-width: 38%;
        transform: rotate(6deg);
      }
      .neon--sticker {
        right: 12%;
        bottom: 8%;
        max-width: 45%;
        transform: rotate(-2deg);
      }

      /* Responsive */
      @media (max-width: 1024px) {
        .hero--neon__grid {
          grid-template-columns: 1fr;
        }
        .hero--neon__right {
          order: -1;
        }
        .panel {
          width: 100%;
        }
      }
      /* ====== Services ====== */
      .services {
        padding: 64px 0;
        background: transparent;
      }

      .services__grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 18px;
      }

      /* Card base */
      .service-card {
        grid-column: span 6; /* 2 por fila en desktop */
        display: grid;
        grid-template-rows: auto 1fr auto;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        overflow: hidden;
        transition:
          border-color 0.25s ease,
          box-shadow 0.25s ease,
          transform 0.2s ease;
      }
      .service-card:hover {
        border-color: rgba(0, 191, 255, 0.55);
        box-shadow:
          0 18px 60px rgba(0, 0, 0, 0.35),
          0 0 24px var(--electric-soft);
        transform: translateY(-2px);
      }

      /* Media */
      .service-card__media {
        position: relative;
        overflow: hidden;
        aspect-ratio: 16 / 9;
        background: linear-gradient(145deg, #141414, #1f1f1f);
      }
      .service-card__media img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        filter: saturate(108%);
      }
      .service-icon {
        position: absolute;
        right: 12px;
        bottom: 12px;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        color: var(--electric);

        pointer-events: none;
      }

      /* Body */
      .service-card__body {
        padding: 16px 16px 8px;
      }
      .service-card__title {
        margin: 0 0 6px;
        font-size: 1.15rem;
      }
      .service-card__desc {
        margin: 0;
        color: #cfe3ef;
      }
      .service-card__chips {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
      }
      .chip {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: #e8f7ff;
        font-size: 0.84rem;
        padding: 6px 10px;
        border-radius: 999px;
      }

      /* Footer */
      .service-card__foot {
        display: flex;
        gap: 10px;
        align-items: center;
        padding: 12px 16px 16px;
      }
      /* ==== Encabezado de sección (servicios) ==== */
      .services__header {
        text-align: left;
        margin-bottom: 40px;
        border-left: 4px solid var(--electric);
        padding-left: 16px;
      }

      .services__header .section__title {
        font-size: clamp(1.8rem, 3vw, 2.4rem);
        font-weight: 900;
        color: #dff5ff;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-shadow: 0 0 18px var(--electric-soft);
        margin-bottom: 4px;
      }

      .services__header .section__subtitle {
        color: #cfe6f5;
        font-size: 1rem;
        max-width: 48ch;
        line-height: 1.5;
      }

      /* SVG Icons (neón simple con CSS) */
      .service-icon::before {
        font-size: 20px;
      }

      /* Responsive */
      @media (max-width: 1024px) {
        .service-card {
          grid-column: span 12;
        } /* 1 por fila en tablet/móvil */
      }
    </style>
    <script>
      // Calcula la altura del navbar y la expone como variable CSS
      const header =
        document.querySelector(".site-nav") ||
        document.querySelector("header.nav");
      const setNavHeight = () => {
        if (!header) return;
        const h = header.getBoundingClientRect().height;
        document.documentElement.style.setProperty(
          "--nav-h",
          `${Math.ceil(h)}px`
        );
      };

      setNavHeight();
      // Recalcula al cambiar tamaño o al cargar fuentes
      window.addEventListener("resize", setNavHeight);
      window.addEventListener("load", setNavHeight);
    </script>
  </body>
</html>
